/*!
 * @form-create/element-ui v1.0.18
 * (c) 2018-2020 xaboy
 * Github https://github.com/xaboy/form-create
 * Released under the MIT License.
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@form-create/component-elm-checkbox"),require("@form-create/component-elm-frame"),require("@form-create/component-elm-radio"),require("@form-create/component-elm-select"),require("@form-create/component-elm-tree"),require("@form-create/component-elm-upload"),require("@form-create/component-elm-group"),require("@form-create/core"),require("@form-create/utils")):"function"==typeof define&&define.amd?define(["exports","@form-create/component-elm-checkbox","@form-create/component-elm-frame","@form-create/component-elm-radio","@form-create/component-elm-select","@form-create/component-elm-tree","@form-create/component-elm-upload","@form-create/component-elm-group","@form-create/core","@form-create/utils"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).formCreate={},e.checkbox$1,e.frame$1,e.radio$1,e.select$2,e.tree$2,e.upload$1,e.group,e.createFormCreate,e.utils)}(this,(function(e,t,r,n,o,i,a,s,c,u){"use strict";function l(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var p=l(t),f=l(r),d=l(n),m=l(o),h=l(i),y=l(a),v=l(s),b=l(c),k=[p.default,f.default,d.default,m.default,h.default,y.default,v.default];function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function x(e,t,r){return t&&w(e.prototype,t),r&&w(e,r),e}function F(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?P(Object(r),!0).forEach((function(t){F(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function N(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R(e,t)}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function R(e,t){return(R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=T(e);if(t){var o=T(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return $(this,r)}}var D=function(e){N(r,e);var t=j(r);function r(){return g(this,r),t.apply(this,arguments)}return x(r,[{key:"render",value:function(e){var t=this,r=this.$render.inputVData(this,!0).get();return this.vNode.checkbox({props:{ctx:r,type:r.props.type,options:this.rule.options,value:this.$handle.getFormData(this),children:e},on:{input:function(e){t.$render.onInput(t,e)}}})}}]),r}(c.BaseParser),I={date:"yyyy-MM-dd",month:"yyyy-MM",datetime:"yyyy-MM-dd HH:mm:ss",week:"yyyywWW",timerange:"HH:mm:ss",daterange:"yyyy-MM-dd",monthrange:"yyyy-MM",datetimerange:"yyyy-MM-dd HH:mm:ss",year:"yyyy"},B=[{parser:D,name:"checkbox"},{parser:function(e){N(r,e);var t=j(r);function r(){return g(this,r),t.apply(this,arguments)}return x(r,[{key:"init",value:function(){var e=this.rule.props;e.valueFormat||(e.valueFormat=I[e.type]||I.date)}}]),r}(c.BaseParser),name:"datePicker"},{parser:function(e){N(r,e);var t=j(r);function r(){return g(this,r),t.apply(this,arguments)}return x(r,[{key:"render",value:function(e){var t=this.$render.inputVData(this).props("field",this.field);return this.vNode.frame(t,e)}},{key:"closeModel",value:function(){this.el.closeModel&&this.el.closeModel()}}]),r}(c.BaseParser),name:"frame"},{parser:function(e){N(r,e);var t=j(r);function r(){return g(this,r),t.apply(this,arguments)}return x(r,[{key:"render",value:function(){return[]}}]),r}(c.BaseParser),name:"hidden"},{parser:function(e){N(r,e);var t=j(r);function r(){return g(this,r),t.apply(this,arguments)}return x(r,[{key:"init",value:function(){var e=this.rule.props;e.autosize&&e.autosize.minRows&&u.$set(e,"rows",e.autosize.minRows||2)}}]),r}(c.BaseParser),name:"input"},{parser:function(e){N(r,e);var t=j(r);function r(){return g(this,r),t.apply(this,arguments)}return x(r,[{key:"toFormValue",value:function(e){return this.rule.options.filter((function(t){return t.value===e})).reduce((function(e,t){return t.label}),"")}},{key:"toValue",value:function(e){return this.rule.options.filter((function(t){return t.label===e})).reduce((function(e,t){return t.value}),"")}},{key:"render",value:function(e){return this.vNode.radio(this.$render.inputVData(this).props({options:this.rule.options}),e)}}]),r}(c.BaseParser),name:"radio"},{parser:function(e){N(r,e);var t=j(r);function r(){return g(this,r),t.apply(this,arguments)}return x(r,[{key:"render",value:function(e){return this.vNode.select(this.$render.inputVData(this).props("options",this.rule.options),e)}}]),r}(c.BaseParser),name:"select"},{parser:function(e){N(r,e);var t=j(r);function r(){return g(this,r),t.apply(this,arguments)}return x(r,[{key:"toFormValue",value:function(e){var t=this.rule,r=Array.isArray(e),n=t.props,o=n.min||0;return!0===n.range?r?e:[o,parseFloat(e)||o]:r?parseFloat(e[0])||o:parseFloat(e)}}]),r}(c.BaseParser),name:"slider"},{parser:function(e){N(r,e);var t=j(r);function r(){return g(this,r),t.apply(this,arguments)}return x(r,[{key:"render",value:function(e){return this.vNode.switch(this.$render.inputVData(this).get(),e)}}]),r}(c.BaseParser),name:"switch"},{parser:function(e){N(r,e);var t=j(r);function r(){return g(this,r),t.apply(this,arguments)}return x(r,[{key:"init",value:function(){var e=this.rule.props;e.valueFormat||(e.valueFormat="HH:mm:ss")}}]),r}(c.BaseParser),name:"timePicker"},{parser:function(e){N(r,e);var t=j(r);function r(){return g(this,r),t.apply(this,arguments)}return x(r,[{key:"init",value:function(){var e=this.rule.props;u.isUndef(e.nodeKey)&&u.$set(e,"nodeKey","id"),u.isUndef(e.props)&&u.$set(e,"props",{label:"title"})}},{key:"render",value:function(e){var t=this,r=this.$render.parserToData(this).get();return this.vNode.tree({props:{ctx:r,children:e,value:this.$handle.getFormData(this),type:r.props.type},ref:this.refName,key:this.key,on:{input:function(e){t.$render.onInput(t,e)}}})}}]),r}(c.BaseParser),name:"tree"},{parser:function(e){N(r,e);var t=j(r);function r(){return g(this,r),t.apply(this,arguments)}return x(r,[{key:"render",value:function(e){var t=this,r=this.$render.parserToData(this).get(),n=this.key,o=this.refName;delete r.props.fileList;var i={uploadType:r.props.uploadType,maxLength:r.props.limit,modalTitle:r.props.modalTitle,handleIcon:r.props.handleIcon,onHandle:r.props.onHandle,allowRemove:r.props.allowRemove,value:this.$handle.getFormData(this),ctx:r,children:e};return this.vNode.upload(O(O({},r),{},{props:i,key:n,ref:o,on:{input:function(e){t.$render.onInput(t,e)}}}))}}]),r}(c.BaseParser),name:"upload"}];var _=".fc-upload-btn, .fc-files {\n    display: inline-block;\n    width: 58px;\n    height: 58px;\n    text-align: center;\n    line-height: 58px;\n    border: 1px solid #c0ccda;\n    border-radius: 4px;\n    overflow: hidden;\n    background: #fff;\n    position: relative;\n    -webkit-box-shadow: 2px 2px 5px rgba(0, 0, 0, .1);\n    box-shadow: 2px 2px 5px rgba(0, 0, 0, .1);\n    margin-right: 4px;\n    -webkit-box-sizing: border-box;\n    box-sizing: border-box;\n}\n\n.form-create .form-create .el-form-item {\n    margin-bottom: 22px;\n}\n\n.form-create .form-create .el-form-item .el-form-item {\n    margin-bottom: 0px;\n}\n\n.form-create .__fc_h {\n    display: none;\n}\n\n.form-create .__fc_v {\n    visibility: hidden;\n}\n\n.fc-files img {\n    width: 100%;\n    height: 100%;\n    display: inline-block;\n    vertical-align: top;\n}\n\n.fc-upload-btn {\n    border: 1px dashed #c0ccda;\n    cursor: pointer;\n}\n\n.fc-upload .fc-upload-cover {\n    opacity: 0;\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    background: rgba(0, 0, 0, .6);\n    -webkit-transition: opacity .3s;\n    -o-transition: opacity .3s;\n    transition: opacity .3s;\n}\n\n.fc-upload .fc-upload-cover i {\n    color: #fff;\n    font-size: 20px;\n    cursor: pointer;\n    margin: 0 2px;\n}\n\n.fc-files:hover .fc-upload-cover {\n    opacity: 1;\n}\n\n.fc-upload .el-upload {\n    display: block;\n}\n\n\n.form-create .el-form-item .el-rate {\n    margin-top: 10px;\n}\n\n.form-create .el-form-item .el-tree {\n    margin-top: 7px;\n}\n\n.fc-hide-btn .el-upload {\n    display: none;\n}\n";!function(e,t){void 0===t&&(t={});var r=t.insertAt;if(e&&"undefined"!=typeof document){var n=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===r&&n.firstChild?n.insertBefore(o,n.firstChild):n.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}(_);var q=/[A-Z]/;function C(e){return"tooltip"===e.type}var M=function(e){N(r,e);var t=j(r);function r(){return g(this,r),t.apply(this,arguments)}return x(r,[{key:"inputVData",value:function(e){var t=e.rule.props||{};e.vData.attrs(Object.keys(t).reduce((function(e,r){return function(e,t){return!q.test(e)&&(u.isString(t)||u.isType(t,"Number"))}(r,t[r])&&(e[r]=t[r]),e}),{})),!t.size&&this.options.form.size&&e.vData.props("size",this.options.form.size)}},{key:"validate",value:function(e){this.getFormRef().validate((function(t){e&&e(t)}))}},{key:"validateField",value:function(e,t){this.getFormRef().validateField(e,t)}},{key:"resetField",value:function(e){this.vm.$refs[e.formItemRefName].resetField()}},{key:"clearValidateState",value:function(e){var t=this.vm.$refs[e.formItemRefName];t&&(t.validateMessage="",t.validateState="")}},{key:"beforeRender",value:function(){this.propsData=this.vData.props(this.options.form).props({model:this.$handle.formData,rules:this.$handle.validate,key:"form"+this.unique}).ref(this.refName).nativeOn({submit:u.preventDefault}).class(this.options.form.className).class("form-create",!0).key(this.unique).get()}},{key:"render",value:function(e){return e.length>0&&e.push(this.makeFormBtn()),this.vNode.form(this.propsData,[!1===this.options.row?e:this.makeRow(e)])}},{key:"makeRow",value:function(e){var t={},r=this.options.row||{};return r.class&&(t[r.class]=!0),this.vNode.row({props:r||{},key:"fr"+this.unique,class:t},e)}},{key:"container",value:function(e,t){return this.makeFormItem(t,e)}},{key:"makeFormItem",value:function(e,t){var r="fItem".concat(e.key).concat(this.unique),n=e.rule,o=e.field,i=e.formItemRefName,a=this.getGetCol(e),s=a.labelWidth||n.title?a.labelWidth:0,c=this.propsData.props,l=c.inline,p=c.col,f=this.vData.props({prop:o,rules:n.validate,labelWidth:u.toString(s),required:n.props.required}).key(r).ref(i).class(n.className).get(),d=this.vNode.formItem(f,[t,this.makeFormPop(e,r)]);return!0===l||!1===p?d:this.makeCol(a,e,r,[d])}},{key:"makeFormPop",value:function(e,t){var r=e.rule;if(r.title){var n=u.isString(r.title)?{title:r.title}:r.title,o=this.options.info||{},i=[n.title||""];return r.info&&i.push(this.vNode.make(C(o)?"el-tooltip":"el-popover",{props:O(O({},o),{},{content:r.info}),key:"pop".concat(t)},[this.vNode.icon({class:[o.icon||"el-icon-warning"],slot:C(o)?"default":"reference"})])),this.vNode.make("span",O(O({},n),{},{slot:"label"}),i)}}},{key:"makeCol",value:function(e,t,r,n){var o;void 0===e.span&&(e.span=24);var i=(F(o={},_.__fc_h,!!t.rule.hidden),F(o,_.__fc_v,!!t.rule.visibility),o);return e.class&&(i[e.class]=!0),this.vNode.col({props:e,class:i,key:"".concat(r,"col1")},n)}},{key:"makeFormBtn",value:function(){var e=[],t=!1!==this.vm.buttonProps&&!1!==this.vm.buttonProps.show,r=!1!==this.vm.resetProps&&!1!==this.vm.resetProps.show;return t&&e.push(this.makeSubmitBtn(r?19:24)),r&&e.push(this.makeResetBtn(4)),!0===this.propsData.props.inline?e:e.length?this.vNode.col({props:{span:24},key:"".concat(this.unique,"col2")},e):[]}},{key:"makeResetBtn",value:function(e){var t=this,r=this.vm.resetProps,n=r.col||{span:e,push:1};return this.vNode.col({props:n,key:"".concat(this.unique,"col3")},[this.vNode.button({key:"frsbtn".concat(this.unique),props:r,on:{click:function(){var e=t.$handle.fCreateApi;u.isFunction(r.click)?r.click(e):e.resetFields()}},style:{width:r.width}},[r.innerText])])}},{key:"makeSubmitBtn",value:function(e){var t=this,r=this.vm.buttonProps,n=r.col||{span:e};return this.vNode.col({props:n,key:"".concat(this.unique,"col4")},[this.vNode.button({key:"fbtn".concat(this.unique),props:r,on:{click:function(){var e=t.$handle.fCreateApi;u.isFunction(r.click)?r.click(e):e.submit()}},style:{width:r.width}},[r.innerText])])}}]),r}(c.BaseForm),S=["year","month","date","dates","week","datetime","datetimeRange","dateRange"].reduce((function(e,t){return e[t]=c.creatorTypeFactory("datePicker",t.toLowerCase()),e}),{}),z={frameInputs:["input",0],frameFiles:["file",0],frameImages:["image",0],frameInputOne:["input",1],frameFileOne:["file",1],frameImageOne:["image",1]},V=Object.keys(z).reduce((function(e,t){return e[t]=c.creatorTypeFactory("frame",(function(e){return e.props({type:z[t][0],maxLength:z[t][1]})})),e}),{});V.frameInput=V.frameInputs,V.frameFile=V.frameFiles,V.frameImage=V.frameImages;var H=["password","url","email","text","textarea"].reduce((function(e,t){return e[t]=c.creatorTypeFactory("input",t),e}),{});H.idate=c.creatorTypeFactory("input","date");var E={selectMultiple:c.creatorTypeFactory("select",!0,"multiple"),selectOne:c.creatorTypeFactory("select",!1,"multiple")},A={sliderRange:c.creatorTypeFactory("slider",!0,"range")},W={time:c.creatorTypeFactory("timePicker",(function(e){return e.props.isRange=!1})),timeRange:c.creatorTypeFactory("timePicker",(function(e){return e.props.isRange=!0}))},L={treeSelected:"selected",treeChecked:"checked"},K=Object.keys(L).reduce((function(e,t){return e[t]=c.creatorTypeFactory("tree",L[t]),e}),{}),U={image:["image",0],file:["file",0],uploadFileOne:["file",1],uploadImageOne:["image",1]},G=Object.keys(U).reduce((function(e,t){return e[t]=c.creatorTypeFactory("upload",(function(e){return e.props({uploadType:U[t][0],maxLength:U[t][1]})})),e}),{});G.uploadImage=G.image,G.uploadFile=G.file;var Z=O(O(O(O(O(O(O(O({},S),V),H),E),A),W),K),G);["autoComplete","cascader","colorPicker","datePicker","frame","inputNumber","radio","rate"].forEach((function(e){Z[e]=c.creatorFactory(e)})),Z.auto=Z.autoComplete,Z.number=Z.inputNumber,Z.color=Z.colorPicker,Z.hidden=function(e,t){return c.creatorFactory("hidden")("",e,t)},c.VNode.use({button:"el-button",icon:"i",slider:"el-slider",rate:"el-rate",upload:"fc-upload",cascader:"el-cascader",colorPicker:"el-color-picker",timePicker:"el-time-picker",datePicker:"el-date-picker",switch:"el-switch",select:"fc-select",checkbox:"fc-checkbox",radio:"fc-radio",inputNumber:"el-input-number",input:"el-input",formItem:"el-form-Item",form:"el-form",frame:"fc-frame",col:"el-col",row:"el-row",tree:"fc-tree",autoComplete:"el-autocomplete",group:"fc-group"});var J={ui:"element-ui",version:"".concat("1.0.18"),formRender:M,components:k,parsers:B,makers:Z,getConfig:function(){return{form:{inline:!1,labelPosition:"right",labelSuffix:void 0,hideRequiredAsterisk:!1,labelWidth:"125px",showMessage:!0,inlineMessage:!1,statusIcon:!1,validateOnRuleChange:!0,disabled:!1,size:void 0},row:{gutter:0,type:void 0,align:void 0,justify:void 0,tag:"div"},info:{type:"popover",trigger:"hover",placement:"top-start",icon:"el-icon-warning"},submitBtn:{type:"primary",size:"medium",plain:!1,round:!1,circle:!1,loading:!1,disabled:!1,icon:"el-icon-upload",width:"100%",autofocus:!1,nativeType:"button",innerText:"提交",show:!0,col:void 0,click:void 0},resetBtn:{type:"default",size:"medium",plain:!1,round:!1,circle:!1,loading:!1,disabled:!1,icon:"el-icon-refresh",width:"100%",autofocus:!1,nativeType:"button",innerText:"重置",show:!1,col:void 0,click:void 0}}}},Q=b.default(J),X=Q.FormCreate,Y=Q.install;"undefined"!=typeof window&&(window.formCreate=X,window.Vue&&Y(window.Vue));var ee=X.maker;e.default=X,e.maker=ee,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=form-create.min.js.map
