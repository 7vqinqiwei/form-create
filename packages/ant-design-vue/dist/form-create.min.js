/*!
 * @form-create/ant-design-vue v1.0.18
 * (c) 2018-2020 xaboy
 * Github https://github.com/xaboy/form-create
 * Released under the MIT License.
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@form-create/component-antdv-upload"),require("@form-create/component-antdv-frame"),require("@form-create/component-antdv-group"),require("@form-create/core"),require("moment"),require("@form-create/utils")):"function"==typeof define&&define.amd?define(["exports","@form-create/component-antdv-upload","@form-create/component-antdv-frame","@form-create/component-antdv-group","@form-create/core","moment","@form-create/utils"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).formCreate={},e.upload$1,e.frame$1,e.group,e.createFormCreate,e.moment,e.utils)}(this,(function(e,t,r,n,o,a,i){"use strict";function u(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var s=u(t),c=u(r),l=u(n),p=u(o),f=u(a),m=[s.default,c.default,l.default];function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function y(e,t,r){return t&&d(e.prototype,t),r&&d(e,r),e}function v(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?k(Object(r),!0).forEach((function(t){v(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&F(e,t)}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function F(e,t){return(F=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function P(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=w(e);if(t){var o=w(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return P(this,r)}}var x={parser:function(e){b(r,e);var t=O(r);function r(){return h(this,r),t.apply(this,arguments)}return y(r,[{key:"render",value:function(e){return this.vNode.checkbox(this.$render.inputVData(this).props({options:this.rule.options}),e)}}]),r}(o.BaseParser),name:"checkbox"},N={date:"YYYY-MM-DD",month:"YYYY-MM",week:"YYYY-wo",range:"YYYY-MM-DD HH:mm:ss"},T=function(e){return-1===["date","month","week","range"].indexOf(e)?"date":e},C=function(e){return e instanceof f.default?e:f.default(e)},D={parser:function(e){b(r,e);var t=O(r);function r(){return h(this,r),t.apply(this,arguments)}return y(r,[{key:"toFormValue",value:function(e){var t=this.getType(),r=Array.isArray(e);return"range"===t?r?e.map((function(e){return e?C(e):null})):[]:r?(e[0]?C(e[0]):null)||null:e?C(e):null}},{key:"toValue",value:function(e){var t=this.getFormat();return Array.isArray(e)?e.map((function(e){return e?e.format(t):e})):e?e.format(t):e}},{key:"getFormat",value:function(){return this.rule.props.format||(this.el?this.el.format:"")||N[T(this.rule.props.type)]}},{key:"getType",value:function(){return T(this.rule.props.type)}},{key:"render",value:function(e){var t=this.getType()+"Picker";return this.vNode[t](this.$render.inputVData(this),[e])}}]),r}(o.BaseParser),name:"datePicker"},j={parser:function(e){b(r,e);var t=O(r);function r(){return h(this,r),t.apply(this,arguments)}return y(r,[{key:"render",value:function(e){var t=this.$render.inputVData(this).props("field",this.field);return this.vNode.frame(t,e)}},{key:"closeModel",value:function(){this.el.closeModel&&this.el.closeModel()}}]),r}(o.BaseParser),name:"frame"},I={parser:function(e){b(r,e);var t=O(r);function r(){return h(this,r),t.apply(this,arguments)}return y(r,[{key:"render",value:function(){return[]}}]),r}(o.BaseParser),name:"hidden"},R={parser:function(e){b(r,e);var t=O(r);function r(){return h(this,r),t.apply(this,arguments)}return y(r,[{key:"render",value:function(e){var t=this.rule.props.type;-1===["textarea","search"].indexOf(t)&&(t="input");var r="textarea"===t?"ATextarea":"search"===t?"AInputSearch":"AInput";return this.vNode.make(r,this.$render.inputVData(this),[e])}}]),r}(o.BaseParser),name:"input"},_={parser:function(e){b(r,e);var t=O(r);function r(){return h(this,r),t.apply(this,arguments)}return y(r,[{key:"render",value:function(e){return this.vNode.radio(this.$render.inputVData(this).props({options:this.rule.options}),e)}}]),r}(o.BaseParser),name:"radio"},B=function(e){b(r,e);var t=O(r);function r(){return h(this,r),t.apply(this,arguments)}return y(r,[{key:"render",value:function(e){return this.vNode.select(this.$render.inputVData(this).props("options",this.rule.options),e)}},{key:"toFormValue",value:function(e){return i.isUndef(e)?void 0:e}}]),r}(o.BaseParser),q=[x,D,j,I,R,_,{parser:B,name:"select"},{parser:function(e){b(r,e);var t=O(r);function r(){return h(this,r),t.apply(this,arguments)}return y(r,[{key:"toFormValue",value:function(e){return e?(t=e,r=this.getFormat(),t instanceof f.default?t:f.default(t,r)):null;var t,r}},{key:"toValue",value:function(e){return e?e.format(this.getFormat()):e}},{key:"getFormat",value:function(){return this.rule.props.format||(this.el?this.el.format:"")||"HH:mm:ss"}}]),r}(o.BaseParser),name:"timePicker"},{parser:function(e){b(r,e);var t=O(r);function r(e,n,o){var a;h(this,r),(a=t.call(this,e,n,o)).modelEvent="check";var i=a.rule.props;return i.replaceFields?i.replaceFields.key||(i.replaceFields.key="id"):i.replaceFields={key:"id"},a}return y(r,[{key:"render",value:function(e){var t=this.$render.inputVData(this).props("checkedKeys",this.$handle.getFormData(this)).props("checkable",!0).get();return this.vNode.tree(t,[e])}}]),r}(o.BaseParser),name:"tree"},{parser:function(e){b(r,e);var t=O(r);function r(){return h(this,r),t.apply(this,arguments)}return y(r,[{key:"render",value:function(e){var t=this,r=this.$render.inputVData(this).get();return this.vNode.upload({props:g(g({},r.props),{},{ctx:r,children:e,value:this.$handle.getFormData(this)}),on:{input:function(e){t.$render.onInput(t,e)}}})}},{key:"toFormValue",value:function(e){return i.toArray(e)}},{key:"toValue",value:function(e){return 1===this.rule.props.limit?e[0]||"":e}}]),r}(o.BaseParser),name:"upload"}],V=void 0;var $=".form-create .form-create .ant-form-item {\n    margin-bottom: 22px;\n}\n\n.form-create .form-create .ant-form-item .ant-form-item {\n    margin-bottom: 0px;\n}\n\n.form-create .form-create .ant-form-item.ant-form-item-with-help {\n    margin-bottom: 3px;\n}\n\n.form-create .form-create .ant-form-item .ant-form-item.ant-form-item-with-help {\n    margin-bottom: -22px;\n}\n\n.form-create .__fc_h {\n    display: none;\n}\n\n.form-create .__fc_v {\n    visibility: hidden;\n}\n";!function(e,t){void 0===t&&(t={});var r=t.insertAt;if(e&&"undefined"!=typeof document){var n=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===r&&n.firstChild?n.insertBefore(o,n.firstChild):n.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}($);var Y=function(e){b(r,e);var t=O(r);function r(){return h(this,r),t.apply(this,arguments)}return y(r,[{key:"inputVData",value:function(e){!e.rule.props.size&&this.options.form.size&&e.vData.props("size",this.options.form.size)}},{key:"validate",value:function(e){this.getFormRef().validate((function(t){e&&e(t)}))}},{key:"validateField",value:function(e,t){this.getFormRef().validateField(e,t)}},{key:"resetField",value:function(e){this.vm.$refs[e.formItemRefName].resetField()}},{key:"clearValidateState",value:function(e){var t=this.vm.$refs[e.formItemRefName];t&&(t.validateMessage="",t.validateState="")}},{key:"beforeRender",value:function(){this.propsData=this.vData.props(this.options.form).props({model:this.$handle.formData,rules:this.$handle.validate,key:"form"+this.unique}).ref(this.refName).nativeOn({submit:i.preventDefault}).class(this.options.form.className).class("form-create",!0).key(this.unique).get()}},{key:"render",value:function(e){return e.length>0&&e.push(this.makeFormBtn()),this.vNode.form(this.propsData,[!1===this.options.row?e:this.makeRow(e)])}},{key:"makeRow",value:function(e){var t={},r=this.options.row||{};return r.class&&(t[r.class]=!0),this.vNode.row({props:r||{},key:"fr"+this.unique,class:t},e)}},{key:"container",value:function(e,t){return this.makeFormItem(t,e)}},{key:"getItemCol",value:function(e,t){var r=this.getGetCol(e,t);return Object.keys(r).length?r:void 0}},{key:"makeFormItem",value:function(e,t){var r="fItem".concat(e.key).concat(this.unique),n="vertical"===this.propsData.props.layout,o=e.rule,a=e.field,i=e.formItemRefName,u=this.getGetCol(e),s=this.propsData.props,c=s.layout,l=s.col,p=this.vData.props({prop:a,labelCol:n?{}:this.getItemCol(e,"labelCol"),wrapperCol:n?{}:this.getItemCol(e,"wrapperCol"),rules:o.validate,required:o.props.required}).key(r).ref(i).class(o.className).get(),f=this.vNode.formItem(p,[t,this.makeFormPop(e,r)]);return"inline"===c||!1===l?f:this.makeCol(u,e,r,[f])}},{key:"makeFormPop",value:function(e,t){var r=e.rule;if(r.title){var n=i.isString(r.title)?{title:r.title}:r.title,o=this.options.info||{},a=[n.title||""],u=function(e){return"tooltip"===e.type}(o);return r.info&&a.push(this.vNode.make(u?"ATooltip":"APopover",{props:g(g({},o),{},v({},u?"title":"content",r.info)),key:"pop".concat(t)},[this.vNode.icon({props:{type:o.icon||"question-circle-o",size:16}})])),this.vNode.make("span",g(g({},n),{},{slot:"label"}),a)}}},{key:"makeCol",value:function(e,t,r,n){var o;void 0===e.span&&(e.span=24);var a=(v(o={},$.__fc_h,!!t.rule.hidden),v(o,$.__fc_v,!!t.rule.visibility),o);return e.class&&(a[e.class]=!0),this.vNode.col({props:e,class:a,key:"".concat(r,"col1")},n)}},{key:"makeFormBtn",value:function(){var e=[],t=!1!==this.vm.buttonProps&&!1!==this.vm.buttonProps.show,r=!1!==this.vm.resetProps&&!1!==this.vm.resetProps.show;return t&&e.push(this.makeSubmitBtn(r?19:24)),r&&e.push(this.makeResetBtn(4)),"inline"===this.propsData.props.layout?e:e.length?this.vNode.col({props:{span:24},key:"".concat(this.unique,"col2")},e):[]}},{key:"makeResetBtn",value:function(e){var t=this,r=this.vm.resetProps,n=r.col||{span:e,push:1};return this.vNode.col({props:n,key:"".concat(this.unique,"col3")},[this.vNode.button({key:"frsbtn".concat(this.unique),props:r,on:{click:function(){var e=t.$handle.fCreateApi;i.isFunction(r.click)?r.click(e):e.resetFields()}}},[r.innerText])])}},{key:"makeSubmitBtn",value:function(e){var t=this,r=this.vm.buttonProps,n=r.col||{span:e};return this.vNode.col({props:n,key:"".concat(this.unique,"col4")},[this.vNode.button({key:"fbtn".concat(this.unique),props:r,on:{click:function(){var e=t.$handle.fCreateApi;i.isFunction(r.click)?r.click(e):e.submit()}}},[r.innerText])])}}]),r}(o.BaseForm),A=["date","month","week"].reduce((function(e,t){return e[t]=o.creatorTypeFactory("datePicker",t),e}),{dateRange:o.creatorTypeFactory("datePicker","range"),datetimeRange:o.creatorTypeFactory("datePicker",(function(e){return e.props({type:"range",showTime:!0})}))}),M={frameInputs:["input",0],frameFiles:["file",0],frameImages:["image",0],frameInputOne:["input",1],frameFileOne:["file",1],frameImageOne:["image",1]},S=Object.keys(M).reduce((function(e,t){return e[t]=o.creatorTypeFactory("frame",(function(e){return e.props({type:M[t][0],maxLength:M[t][1]})})),e}),{});S.frameInput=S.frameInputs,S.frameFile=S.frameFiles,S.frameImage=S.frameImages;var E=["password","url","email","text","textarea","search"].reduce((function(e,t){return e[t]=o.creatorTypeFactory("input",t),e}),{});E.idate=o.creatorTypeFactory("input","date");var z={selectMultiple:o.creatorTypeFactory("select","multiple","mode"),selectTags:o.creatorTypeFactory("select","tags","mode"),selectCombobox:o.creatorTypeFactory("select","combobox","mode")},H={sliderRange:o.creatorTypeFactory("slider",!0,"range")},L={image:["image",0],file:["file",0],uploadFileOne:["file",1],uploadImageOne:["image",1]},G=Object.keys(L).reduce((function(e,t){return e[t]=o.creatorTypeFactory("upload",(function(e){return e.props({uploadType:L[t][0],maxLength:L[t][1]})})),e}),{});G.uploadImage=G.image,G.uploadFile=G.file;var K=g(g(g(g(g(g({},A),S),E),z),H),G);["autoComplete","cascader","datePicker","frame","inputNumber","radio","rate","switch","rate","slider","timePicker"].forEach((function(e){K[e]=o.creatorFactory(e)})),K.auto=K.autoComplete,K.number=K.inputNumber,K.time=K.timePicker,K.hidden=function(e,t){return o.creatorFactory("hidden")("",e,t)};var U={input:"change.value",switch:{prop:"checked",event:"change"}};["autoComplete","cascader","inputNumber","rate","slider","change","timePicker","datePicker","select"].forEach((function(e){return U[e]="change"})),o.VNode.use({button:"a-button",icon:"a-icon",slider:"a-slider",rate:"a-rate",upload:"fc-update",cascader:"a-cascader",timePicker:"a-time-picker",datePicker:"a-date-picker",rangePicker:"a-range-picker",weekPicker:"a-week-picker",monthPicker:"a-month-picker",switch:"a-switch",select:"a-select",checkbox:"a-checkbox-group",radio:"a-radio-group",inputNumber:"a-input-number",search:"a-input-search",textarea:"a-textarea",formItem:"a-form-model-item",form:"a-form-model",frame:"fc-frame",col:"a-col",row:"a-row",tree:"a-tree",autoComplete:"a-auto-complete",group:"fc-group"});var J={ui:"ant-design-vue",version:"".concat("1.0.18"),formRender:Y,components:m,parsers:q,makers:K,getConfig:function(){return{form:{hideRequiredMark:!1,layout:"horizontal",labelAlign:"right",labelCol:{span:4},wrapperCol:{span:20},colon:V,validateOnRuleChange:!0},row:{gutter:0,type:V,align:V,justify:V},info:{type:"popover",placement:"topLeft",icon:"question-circle-o"},submitBtn:{disabled:!1,ghost:!1,icon:"upload",loading:!1,shape:V,size:V,type:"primary",block:!0,innerText:"提交",htmlType:V,show:!0,col:V,click:V},resetBtn:{disabled:!1,ghost:!1,icon:"sync",loading:!1,shape:V,size:V,type:"default",block:!0,innerText:"重置",htmlType:V,show:!1,col:V,click:V}}},modelEvents:U},Q=p.default(J),W=Q.FormCreate,X=Q.install;"undefined"!=typeof window&&(window.formCreate=W,window.Vue&&X(window.Vue));var Z=W.maker;e.default=W,e.maker=Z,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=form-create.min.js.map
