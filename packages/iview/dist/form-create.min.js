/*!
 * @form-create/iview v1.0.18
 * (c) 2018-2020 xaboy
 * Github https://github.com/xaboy/form-create
 * Released under the MIT License.
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@form-create/component-ivu-checkbox"),require("@form-create/component-ivu-frame"),require("@form-create/component-ivu-radio"),require("@form-create/component-ivu-select"),require("@form-create/component-ivu-tree"),require("@form-create/component-ivu-upload"),require("@form-create/component-ivu-group"),require("iview"),require("@form-create/core"),require("@form-create/utils")):"function"==typeof define&&define.amd?define(["exports","@form-create/component-ivu-checkbox","@form-create/component-ivu-frame","@form-create/component-ivu-radio","@form-create/component-ivu-select","@form-create/component-ivu-tree","@form-create/component-ivu-upload","@form-create/component-ivu-group","iview","@form-create/core","@form-create/utils"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).formCreate={},e.checkbox$1,e.frame$1,e.radio$1,e.select$2,e.tree$2,e.upload$1,e.group,e.iview,e.createFormCreate,e.utils)}(this,(function(e,t,r,n,o,i,a,u,s,c,l){"use strict";function p(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var f=p(t),m=p(r),d=p(n),h=p(o),v=p(i),y=p(a),k=p(u),g=p(s),b=p(c);function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function F(e,t,r){return t&&P(e.prototype,t),r&&P(e,r),e}function I(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function T(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(Object(r),!0).forEach((function(t){I(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function N(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&D(e,t)}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function D(e,t){return(D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function B(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=x(e);if(t){var o=x(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return B(this,r)}}var $=g.default.version&&g.default.version.split(".")[0]>2?3:2,j={_v:2,resetBtnType:"ghost",resetBtnIcon:"refresh",submitBtnIcon:"ios-upload",fileIcon:"document-text",fileUpIcon:"folder",imgUpIcon:"image",infoIcon:"ios-information-outline",removeIcon:"ios-minus-outline",addIcon:"ios-plus-outline"},_={_v:3,resetBtnType:"default",resetBtnIcon:"md-refresh",submitBtnIcon:"ios-share",fileIcon:"md-document",fileUpIcon:"ios-folder-open",imgUpIcon:"md-images",infoIcon:"ios-information-circle-outline",removeIcon:"ios-remove-circle-outline",addIcon:"ios-add-circle-outline"},C=void 0===g.default?j:g.default.version&&g.default.version.split(".")[0]>2?_:j;var q=[f.default,d.default,h.default,v.default];3===$?q.push(m.default,y.default,k.default):q.push(m.default.v2,y.default.v2,k.default.v2);var V=[{parser:function(e){N(r,e);var t=R(r);function r(){return w(this,r),t.apply(this,arguments)}return F(r,[{key:"render",value:function(e){var t=this;return this.vNode.checkbox({props:{ctx:this.$render.inputVData(this,!0).get(),options:this.rule.options,value:this.$handle.getFormData(this),children:e},on:{input:function(e){t.$render.onInput(t,e)}}})}}]),r}(c.BaseParser),name:"checkbox"},{parser:function(e){N(r,e);var t=R(r);function r(){return w(this,r),t.apply(this,arguments)}return F(r,[{key:"init",value:function(){var e=this.rule.props;e.startDate&&l.$set(e,"startDate",l.timeStampToDate(e.startDate))}},{key:"isRange",value:function(){return this.el.type.includes("range")||this.el.multiple}},{key:"_toValue",value:function(e){var t=this.el.formatDate(e||""),r=this.el.separator,n=this.isRange();return t?n?t.split(r):t:n?this.el.multiple?[]:["",""]:t}},{key:"toValue",value:function(e){var t=this.$handle.vm.$refs[this.refName];return t?(this.el=t,this._toValue(e)):e}},{key:"toFormValue",value:function(e){var t,r=Array.isArray(e),n=this.rule.props,o=n.type||"date";return t=-1!==["daterange","datetimerange"].indexOf(o)?r?e.map((function(e){return e?l.timeStampToDate(e):""})):["",""]:"date"===o&&!0===n.multiple?toString(e):(t=r?e[0]||"":e)?l.timeStampToDate(t):""}},{key:"mounted",value:function(){var e=this;this.toFormValue=function(t){var r=e.el.parseDate(t);return e.isRange()?r:r[0]},this.toValue=this._toValue}}]),r}(c.BaseParser),name:"datePicker"},{parser:function(e){N(r,e);var t=R(r);function r(){return w(this,r),t.apply(this,arguments)}return F(r,[{key:"render",value:function(e){var t=this.$render.inputVData(this).props("field",this.field);return this.vNode.frame(t,e)}},{key:"closeModel",value:function(){this.el.closeModel&&this.el.closeModel()}}]),r}(c.BaseParser),name:"frame"},{parser:function(e){N(r,e);var t=R(r);function r(){return w(this,r),t.apply(this,arguments)}return F(r,[{key:"render",value:function(){return[]}}]),r}(c.BaseParser),name:"hidden"},{parser:function(e){N(r,e);var t=R(r);function r(){return w(this,r),t.apply(this,arguments)}return F(r,[{key:"init",value:function(){var e=this.rule.props;e.autosize&&e.autosize.minRows&&l.$set(e,"rows",e.autosize.minRows||2)}}]),r}(c.BaseParser),name:"input"},{parser:function(e){N(r,e);var t=R(r);function r(){return w(this,r),t.apply(this,arguments)}return F(r,[{key:"toFormValue",value:function(e){return this.rule.options.filter((function(t){return t.value===e})).reduce((function(e,t){return t.label}),"")}},{key:"toValue",value:function(e){return this.rule.options.filter((function(t){return t.label===e})).reduce((function(e,t){return t.value}),"")}},{key:"render",value:function(e){return this.vNode.radio(this.$render.inputVData(this).props({options:this.rule.options}),e)}}]),r}(c.BaseParser),name:"radio"},{parser:function(e){N(r,e);var t=R(r);function r(){return w(this,r),t.apply(this,arguments)}return F(r,[{key:"render",value:function(e){return this.vNode.select(this.$render.inputVData(this).props("options",this.rule.options),e)}}]),r}(c.BaseParser),name:"select"},{parser:function(e){N(r,e);var t=R(r);function r(){return w(this,r),t.apply(this,arguments)}return F(r,[{key:"toFormValue",value:function(e){var t=this.rule,r=Array.isArray(e),n=t.props,o=n.min||0;return!0===n.range?r?e:[o,parseFloat(e)||o]:r?parseFloat(e[0])||o:parseFloat(e)}}]),r}(c.BaseParser),name:"slider"},{parser:function(e){N(r,e);var t=R(r);function r(){return w(this,r),t.apply(this,arguments)}return F(r,[{key:"render",value:function(e){var t=this.rule.props.slot||{};return this.vNode.switch(this.$render.inputVData(this).scopedSlots({open:function(){return t.open},close:function(){return t.close}}).get(),e)}}]),r}(c.BaseParser),name:"switch"},{parser:function(e){N(r,e);var t=R(r);function r(){return w(this,r),t.apply(this,arguments)}return F(r,[{key:"render",value:function(e){var t=this,r=this.$render.parserToData(this).get();return this.vNode.tree({props:{ctx:r,children:e,value:this.$handle.getFormData(this),type:r.props.type},ref:this.refName,key:this.key,on:{input:function(e){t.$render.onInput(t,e)}}})}}]),r}(c.BaseParser),name:"tree"},{parser:function(e){N(r,e);var t=R(r);function r(){return w(this,r),t.apply(this,arguments)}return F(r,[{key:"render",value:function(e){var t=this,r=this.$render.parserToData(this).get(),n=this.key,o=this.refName;delete r.props.defaultFileList;var i={uploadType:r.props.uploadType,maxLength:r.props.maxLength,modalTitle:r.props.modalTitle,handleIcon:r.props.handleIcon,onHandle:r.props.onHandle,allowRemove:r.props.allowRemove,value:this.$handle.getFormData(this),ctx:r,children:e};return this.vNode.upload({props:i,key:n,ref:o,on:{input:function(e){t.$render.onInput(t,e)}}})}}]),r}(c.BaseParser),name:"upload"}];var S=".form-create .form-create .ivu-form-item {\n    margin-bottom: 24px;\n}\n\n.form-create .form-create .ivu-form-item .ivu-form-item {\n    margin-bottom: 0px;\n}\n\n.form-create .fc-group .ivu-icon + .ivu-icon {\n    margin-left: 3px;\n}\n\n.form-create .fc-upload .ivu-icon {\n    vertical-align: middle;\n}\n\n.form-create .__fc_h {\n    display: none;\n}\n\n.form-create .__fc_v {\n    visibility: hidden;\n}\n\n.fc-pop2 {\n    text-align: left;\n    vertical-align: -0.2em;\n}\n\n.fc-pop3 {\n    vertical-align: 0.1em;\n}\n";!function(e,t){void 0===t&&(t={});var r=t.insertAt;if(e&&"undefined"!=typeof document){var n=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===r&&n.firstChild?n.insertBefore(o,n.firstChild):n.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}(S);var z=function(e){N(r,e);var t=R(r);function r(){return w(this,r),t.apply(this,arguments)}return F(r,[{key:"inputVData",value:function(e){!e.rule.props.size&&this.options.form.size&&e.vData.props("size",this.options.form.size)}},{key:"validate",value:function(e){this.getFormRef().validate((function(t){e&&e(t)}))}},{key:"validateField",value:function(e,t){this.getFormRef().validateField(e,t)}},{key:"resetField",value:function(e){this.vm.$refs[e.formItemRefName].resetField()}},{key:"clearValidateState",value:function(e){var t=this.vm.$refs[e.formItemRefName];t&&(t.validateMessage="",t.validateState="")}},{key:"beforeRender",value:function(){this.propsData=this.vData.props(this.options.form).props({model:this.$handle.formData,rules:this.$handle.validate,key:"form"+this.unique}).ref(this.refName).nativeOn({submit:l.preventDefault}).class(this.options.form.className).class("form-create",!0).key(this.unique).get()}},{key:"render",value:function(e){return e.length>0&&e.push(this.makeFormBtn()),this.vNode.form(this.propsData,[!1===this.options.row?e:this.makeRow(e)])}},{key:"makeRow",value:function(e){var t={},r=this.options.row||{};return r.class&&(t[r.class]=!0),this.vNode.row({props:r||{},key:"fr"+this.unique,class:t},e)}},{key:"container",value:function(e,t){return this.makeFormItem(t,e)}},{key:"makeFormItem",value:function(e,t){var r="fItem".concat(e.key).concat(this.unique),n=e.rule,o=e.field,i=e.formItemRefName,a=this.getGetCol(e),u=a.labelWidth||n.title?a.labelWidth:0,s=this.propsData.props,c=s.inline,l=s.col,p=this.vData.props({prop:o,label:n.title,rules:n.validate,labelWidth:u,required:n.props.required}).key(r).ref(i).class(n.className).get(),f=this.vNode.formItem(p,[t,this.makeFormPop(e,r)]);return!0===c||!1===l?f:this.makeCol(a,e,r,[f])}},{key:"makeFormPop",value:function(e,t){var r=e.rule;if(r.title){var n=l.isString(r.title)?{title:r.title}:r.title,o=this.options.info||{},i=[n.title||""];return r.info&&i.push(this.vNode.make(function(e){return"tooltip"===e.type}(o)?"Tooltip":"Poptip",{props:T(T({},o),{},{content:r.info}),class:"fc-pop"+C._v,key:"pop".concat(t)},[this.vNode.icon({props:{type:o.icon||C.infoIcon,size:16}})])),this.vNode.make("span",T(T({},n),{},{slot:"label"}),i)}}},{key:"makeCol",value:function(e,t,r,n){var o;void 0===e.span&&(e.span=24);var i=(I(o={},S.__fc_h,!!t.rule.hidden),I(o,S.__fc_v,!!t.rule.visibility),o);return e.class&&(i[e.class]=!0),this.vNode.col({props:e,class:i,key:"".concat(r,"col1")},n)}},{key:"makeFormBtn",value:function(){var e=[],t=!1!==this.vm.buttonProps&&!1!==this.vm.buttonProps.show,r=!1!==this.vm.resetProps&&!1!==this.vm.resetProps.show;return t&&e.push(this.makeSubmitBtn(r?19:24)),r&&e.push(this.makeResetBtn(4)),!0===this.propsData.props.inline?e:e.length?this.vNode.col({props:{span:24},key:"".concat(this.unique,"col2")},e):[]}},{key:"makeResetBtn",value:function(e){var t=this,r=this.vm.resetProps,n=r.col||{span:e,push:1};return this.vNode.col({props:n,key:"".concat(this.unique,"col3")},[this.vNode.button({key:"frsbtn".concat(this.unique),props:r,on:{click:function(){var e=t.$handle.fCreateApi;l.isFunction(r.click)?r.click(e):e.resetFields()}}},[r.innerText])])}},{key:"makeSubmitBtn",value:function(e){var t=this,r=this.vm.buttonProps,n=r.col||{span:e};return this.vNode.col({props:n,key:"".concat(this.unique,"col4")},[this.vNode.button({key:"fbtn".concat(this.unique),props:r,on:{click:function(){var e=t.$handle.fCreateApi;l.isFunction(r.click)?r.click(e):e.submit()}}},[r.innerText])])}}]),r}(c.BaseForm),E=["date","dateRange","dateTime","dateTimeRange","year","month"].reduce((function(e,t){return e[t]=c.creatorTypeFactory("datePicker",t.toLowerCase()),e}),{}),A={frameInputs:["input",0],frameFiles:["file",0],frameImages:["image",0],frameInputOne:["input",1],frameFileOne:["file",1],frameImageOne:["image",1]},M=Object.keys(A).reduce((function(e,t){return e[t]=c.creatorTypeFactory("frame",(function(e){return e.props({type:A[t][0],maxLength:A[t][1]})})),e}),{});M.frameInput=M.frameInputs,M.frameFile=M.frameFiles,M.frameImage=M.frameImages;var L=["password","url","email","text","textarea"].reduce((function(e,t){return e[t]=c.creatorTypeFactory("input",t),e}),{});L.idate=c.creatorTypeFactory("input","date");var W={selectMultiple:c.creatorTypeFactory("select",!0,"multiple"),selectOne:c.creatorTypeFactory("select",!1,"multiple")},U={sliderRange:c.creatorTypeFactory("slider",!0,"range")},H={time:c.creatorTypeFactory("timePicker","time"),timeRange:c.creatorTypeFactory("timePicker","timerange")},G={treeSelected:"selected",treeChecked:"checked"},J=Object.keys(G).reduce((function(e,t){return e[t]=c.creatorTypeFactory("tree",G[t]),e}),{}),K={image:["image",0],file:["file",0],uploadFileOne:["file",1],uploadImageOne:["image",1]},Q=Object.keys(K).reduce((function(e,t){return e[t]=c.creatorTypeFactory("upload",(function(e){return e.props({uploadType:K[t][0],maxLength:K[t][1]})})),e}),{});Q.uploadImage=Q.image,Q.uploadFile=Q.file;var X=T(T(T(T(T(T(T(T({},E),M),L),W),U),H),J),Q);["autoComplete","cascader","colorPicker","datePicker","frame","inputNumber","radio","rate","timePicker","group"].forEach((function(e){X[e]=c.creatorFactory(e)})),X.auto=X.autoComplete,X.number=X.inputNumber,X.color=X.colorPicker,X.hidden=function(e,t){return c.creatorFactory("hidden")("",e,t)},c.VNode.use({button:"i-button",icon:"Icon",slider:"Slider",rate:"Rate",upload:"fc-upload",cascader:"Cascader",colorPicker:"Color-Picker",timePicker:"Time-Picker",datePicker:"Date-Picker",switch:"i-switch",select:"fc-select",checkbox:"fc-checkbox",radio:"fc-radio",inputNumber:"Input-Number",input:"i-input",formItem:"Form-Item",form:"i-form",frame:"fc-frame",col:"i-col",row:"row",tree:"fc-tree",autoComplete:"AutoComplete",group:"fc-group"});var Y={ui:"iview",version:"1.0.18",formRender:z,components:q,parsers:V,makers:X,getConfig:function(){return{form:{inline:!1,labelPosition:"right",labelWidth:125,showMessage:!0,autocomplete:"off",size:void 0},row:{gutter:0,type:void 0,align:void 0,justify:void 0,className:void 0},info:{type:"poptip",trigger:"hover",placement:"top-start",wordWrap:!0,icon:C.infoIcon},submitBtn:{type:"primary",size:"large",shape:void 0,long:!0,htmlType:"button",disabled:!1,icon:C.submitBtnIcon,innerText:"提交",loading:!1,show:!0,col:void 0,click:void 0},resetBtn:{type:C.resetBtnType,size:"large",shape:void 0,long:!0,htmlType:"button",disabled:!1,icon:C.resetBtnIcon,innerText:"重置",loading:!1,show:!1,col:void 0,click:void 0}}}},Z=b.default(Y),ee=Z.FormCreate,te=Z.install;c.Creator.prototype.event=function(e,t){var r,n=this;return r=l.isPlainObject(e)?e:I({},e,t),Object.keys(r).forEach((function(e){var t=0===l.toString(e).indexOf("on-")?e:"on-".concat(e);n.on(t,r[e])})),this},"undefined"!=typeof window&&(window.formCreate=ee,window.Vue&&te(window.Vue));var re=ee.maker;e.default=ee,e.maker=re,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=form-create.min.js.map
